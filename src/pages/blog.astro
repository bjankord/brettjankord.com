---
import { SITE } from '$/config';
import DefaultLayout from '$/layouts/Default.astro';
import PostListing from '$/components/PostListing.astro';

// Use Astro.glob() to fetch all posts, and then sort them by date.
const posts = (await Astro.glob('./blog/*.{md,mdx}')).sort(
	(a, b) => new Date(b.frontmatter.pubDate).valueOf() - new Date(a.frontmatter.pubDate).valueOf()
);
---
<DefaultLayout content={{title: SITE.title, description: SITE.description}}>
  <content>
    <PostListing posts={posts} />
  </content>
</DefaultLayout>
